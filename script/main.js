(()=>{"use strict";var e={932:(e,t,i)=>{i.d(t,{Mn:()=>o,hm:()=>n,rA:()=>a});const a=10,n=[{name:"小宮山口駅",x:544,y:-458,pid:"komiya_komiyasanguchi"},{name:"小宮駅",x:517,y:-449,pid:"komiya_komiya",description:"小宮市の市街地の地下に位置する主要な旅客ターミナル駅。小宮電鉄線を中心にいくつかの路線が乗り入れている。",src:"https://i.ibb.co/Wv6mTnV/komiya-sta.png"},{name:"小宮格闘センター前駅",x:484,y:-433,pid:"komiya_komiyafightingcenter"},{name:"小宮南駅",x:527,y:-430,pid:"komiya_komiyaminami"},{name:"小宮村駅",x:458,y:-449,pid:"komiya_komiyamura"},{name:"赤羽駅",x:435,y:-449,pid:"akabane_akabane"},{name:"T村駅",x:449,y:-410,pid:"tmura_tmura"},{name:"北小宮駅",x:550,y:-478,pid:"komiya_kitakomiya"},{name:"北平駅",x:550,y:-478,pid:"komiya_kitahira"}],o=[{name:"小宮電鉄線(テストデータ1)",color:"orange",pid:["komiya_komiyafightingcenter","komiya_komiya","komiya_komiyasanguchi","komiya_kitakomiya"],lid:"komiya_1",type:"train"},{name:"小宮電鉄線(テストデータ2)",color:"orange",pid:["komiya_komiyaminami","komiya_komiya","komiya_komiyamura","akabane_akabane","tmura_tmura"],lid:"komiya_2",type:"train"},{name:"RR秘境線(テストデータ)",color:"yellow",pid:["komiya_komiyaminami","komiya_komiyasanguchi","komiya_kitahira"],lid:"komiya_2",type:"train"}]},799:(e,t,i)=>{i.d(t,{$9:()=>n,Ji:()=>o,QR:()=>d,Y3:()=>r,ej:()=>l});let a=[],n=(...e)=>{console.log(e),a.push(e)};const o=document.getElementById("canvas"),l=o.getContext("2d"),d=e=>e*Math.PI/180,r=e=>"station"==e?"#007bff":""},565:(e,t,i)=>{},386:(e,t,i)=>{document.getElementById("directionresults")},156:(e,t,i)=>{var a=i(799),n=i(932),o=i(645),l=i(349);let d,r,c=document.getElementById("pointList"),s=document.getElementById("fromPoint"),m=document.getElementById("toPoint"),y=document.getElementById("main"),u=document.getElementById("directions"),f=document.getElementById("information");function g(){(0,a.$9)("Window Resized"),a.Ji.width=2*o.V.OFFSET_X,a.Ji.height=2*o.V.OFFSET_Y,a.Ji.style.width=String(y.clientWidth)+"px",a.Ji.style.height=String(y.clientHeight)+"px",o.V.render()}n.hm.forEach((e=>{c.insertAdjacentHTML("afterbegin",`<option value="${e.name}" id="pin_${e.pid}"></option>`),o.V.addClickEvent(e.x,e.y,10,(()=>{null!=d&&(r=d),d=e,l.D.set(e)}),e.pid),o.V.addPinFlag(e.x,e.y,(0,a.Y3)("station"))})),g(),window.onresize=g,a.Ji.addEventListener("mousedown",o.V.dragstart),a.Ji.addEventListener("mousemove",o.V.dragupdate),a.Ji.addEventListener("mouseup",o.V.dragend),a.Ji.addEventListener("wheel",o.V.wheelzoom),a.Ji.addEventListener("contextmenu",(e=>{}),!1),window.reverseft=function(){let e=s.value,t=m.value;s.value=t,m.value=e},window.outputresult=function(){if(""==s.value||""==m.value)return;let e,t;for(let t=0;t<n.hm.length;t++)if(n.hm[t].name===s.value){e=n.hm[t].pid;break}for(let e=0;e<n.hm.length;e++)if(n.hm[e].name===m.value){t=n.hm[e].pid;break}},window.startNavi=function(){},window.dismiss_donate=function(){document.getElementById("marumasa_donation")?.remove()},window.tabDir=function(){u.classList.remove("hide"),f.classList.add("hide")},window.tabInfo=function(){f.classList.remove("hide"),u.classList.add("hide")}},349:(e,t,i)=>{i.d(t,{D:()=>a});class a{static info_image=document.getElementById("info_image");static info_description=document.getElementById("info_description");static info_title=document.getElementById("info_title");static set(e){null!=e.src?a.info_image.src=e.src:a.info_image.src="",a.info_title.textContent=e.name,null!=e.description?a.info_description.textContent=e.description:a.info_description.textContent=""}}},645:(e,t,i)=>{i.d(t,{V:()=>r});var a=i(799),n=i(932);let o,l,d;class r{static OFFSET_X=2e3;static OFFSET_Y=2e3;static local_x=0;static local_y=0;static local_size=1;static clickFlag=[];static pinRenderFlag=[];static lineRenderFlag=[];static cx=e=>(r.OFFSET_X+r.local_x+e)*r.local_size;static cy=e=>(r.OFFSET_Y+r.local_y+e)*r.local_size;static render(){(0,a.$9)("Render Updated"),r.clear();for(let e=0;e<n.Mn.length;e++){let t=[],i=[];const a=n.Mn[e];for(let e of a.pid)for(let a=0;a<n.hm.length;a++)n.hm[a].pid==e&&(t.push(n.hm[a].x),i.push(n.hm[a].y));r.lineRender(t,i,a.color)}if(null!=r.pinRenderFlag)for(let e of r.pinRenderFlag)r.pinRender(e.x,e.y,e.r,e.c)}static clear(){(0,a.$9)("Canvas Clear"),a.ej.clearRect(0,0,a.Ji.width,a.Ji.height),a.ej.fillStyle="rgb(230, 230, 230)",a.ej.fillRect(0,0,2*r.OFFSET_X,2*r.OFFSET_Y)}static lineRender(e,t,i){(0,a.$9)("RenderLine",e,t,i),r.strokeWidth(10),r.strokeStyle(i),a.ej.beginPath(),a.ej.moveTo(r.cx(e[0]),r.cy(t[0]));for(let i=1;i<e.length;i++)a.ej.lineTo(r.cx(e[i]),r.cy(t[i]));a.ej.stroke()}static pinRender(e,t,i,n){(0,a.$9)("RenderPin",e,t,i,n),r.fillStyle(n),a.ej.beginPath(),a.ej.arc(r.cx(e),r.cy(t),i,(0,a.QR)(0),(0,a.QR)(360),!1),a.ej.fill(),(0,a.$9)(r.cx(e),r.cy(t),i,(0,a.QR)(0),(0,a.QR)(360),!1)}static dragstart(e){(0,a.$9)("Start Drag"),d=!0,o=e.offsetX,l=e.offsetY}static dragupdate(e){if(d){if((0,a.$9)("Update Drag"),null==o||null==l)return;let t=1/r.local_size;r.local_x+=(e.offsetX-o)*t,r.local_y+=(e.offsetY-l)*t,o=e.offsetX,l=e.offsetY,r.render()}}static dragend(e){(0,a.$9)("End Drag"),d=!1}static wheelzoom(e){(0,a.$9)("Update WheelZoom");let t=-.002*e.deltaY;r.local_size+=t,r.render()}static addClickEvent=(e,t,i,n,o)=>{r.clickFlag.push([e-i,t-i,e+i,t+i,n]),a.Ji.addEventListener("click",(o=>{let l=a.Ji.getBoundingClientRect(),d=(o.clientX-l.left)*(a.Ji.width/l.width),c=(o.clientY-l.top)*(a.Ji.height/l.height);d>r.cx(e-i)&&c>r.cy(t-i)&&d<r.cx(e+i)&&c<r.cy(t+i)&&n(e,t,i)}))};static addPinFlag=(e,t,i)=>r.pinRenderFlag.push({x:e,y:t,r:n.rA,c:i});static strokeStyle=e=>a.ej.strokeStyle=e;static strokeWidth=e=>a.ej.lineWidth=e;static fillStyle=e=>a.ej.fillStyle=e}},446:(e,t,i)=>{}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,i),o.exports}i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(799),i(932),i(156),i(565),i(386),i(349),i(645),i(446)})();